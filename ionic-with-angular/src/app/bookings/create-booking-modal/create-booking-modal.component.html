<ion-header>
  <ion-toolbar>
    <ion-title>{{ selectedPlace.title }}</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="cancelBook()"><ion-icon name="close"></ion-icon></ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-text-center ion-padding">
  <form [formGroup]="form" (ngSubmit)="bookPlace()">
    <ion-grid>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">First Name</ion-label>
            <ion-input type="text" name="first-name" formControlName="firstName" required></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Last Name</ion-label>
            <ion-input type="text" name="last-name" formControlName="lastName" required></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Number of Guests</ion-label>
            <ion-select name="guest-number" formControlName="guestNumber">
              <ion-select-option value="1">1</ion-select-option>
              <ion-select-option value="2">2</ion-select-option>
              <ion-select-option value="3">3</ion-select-option>
              <ion-select-option value="4">4</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-datetime 
            id="datetimeFrom" 
            formControlName="dateFrom" 
            name="dateFrom"
            presentation="date" 
            [min]="selectedPlace.avaliableFrom.toISOString()"
            [max]="selectedPlace.avaliableTo.toISOString()"
            required
            display-format="MMM DD YYYY" 
            picker-format="YY MMM DD">
              <span slot="title">From</span>
            </ion-datetime>
            <ion-note slot="error">Date is required</ion-note>
          </ion-item>
        </ion-col>
      </ion-row>
      
      <ion-row>
        <ion-col size-sm="6">
          <ion-item>
            <ion-datetime 
            id="datetimeTo" 
            formControlName="dateTo" 
            name="dateTo"
            presentation="date" 
            [min]="selectedPlace.avaliableFrom.toISOString()"
            [max]="selectedPlace.avaliableTo.toISOString()"   
            display-format="MMM DD YYYY" 
            picker-format="YY MMM DD"
            required>
              <span slot="title">To</span>
            </ion-datetime>
            <ion-note slot="error">Date is required</ion-note>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-button [disabled]="form.invalid" 
          color="primary" expand="block" type="submit">Book</ion-button>
        </ion-col>
      </ion-row>

    </ion-grid>
  </form>
</ion-content>